{"ast":null,"code":"import _regeneratorRuntime from\"/Users/riczhou/Desktop/PerfMatch/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/riczhou/Desktop/PerfMatch/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/riczhou/Desktop/PerfMatch/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState,useEffect}from\"react\";import{useHistory,Redirect}from\"react-router-dom\";import{Button}from\"react-bootstrap\";import Header from\"./Header\";import Footer from\"./Footer\";import\"../style/SignUp.scss\";// icon\nimport arrowRight from\"../icons/arrow-right.svg\";import lock from\"../icons/lock.svg\";import user from\"../icons/user.svg\";import mail from\"../icons/mail-light.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function loginUser(_x){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(accountData){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",fetch(\"api/getToken\",{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(accountData)}).then(function(data){return data.json();}));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _loginUser.apply(this,arguments);}function SignUp(_ref){var token=_ref.token,setToken=_ref.setToken;if(token){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleRegister=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return loginUser({username:username,password:password});case 3:token=_context.sent;setToken(token);case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleRegister(_x2){return _ref2.apply(this,arguments);};}();// const identity = props.match.params.identity;\nuseEffect(function(){window.scrollTo(0,0);},[]);var history=useHistory();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create an account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsxs(\"span\",{className:\"icoContainer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icoPlaceholder\",children:/*#__PURE__*/_jsx(\"img\",{src:user})}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",placeholder:\"Username *\",onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"icoContainer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icoPlaceholder\",children:/*#__PURE__*/_jsx(\"img\",{src:mail})}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",placeholder:\"Email address *\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"icoContainer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icoPlaceholder\",children:/*#__PURE__*/_jsx(\"img\",{src:lock})}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"Password *\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",children:[\"REGISTER\",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"20px\"},className:\"arrow\",children:/*#__PURE__*/_jsx(\"img\",{src:arrowRight})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"more\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return history.push(\"/login\");},children:\"Already have an account\"})})})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default SignUp;","map":{"version":3,"sources":["/Users/riczhou/Desktop/PerfMatch/frontend/src/components/SignUp.js"],"names":["React","useState","useEffect","useHistory","Redirect","Button","Header","Footer","loginUser","accountData","fetch","method","headers","body","JSON","stringify","then","data","json","SignUp","token","setToken","username","setUsername","password","setPassword","handleRegister","e","preventDefault","window","scrollTo","history","user","target","value","mail","lock","marginLeft","arrowRight","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport \"../style/SignUp.scss\";\n// icon\nimport arrowRight from \"../icons/arrow-right.svg\";\nimport lock from \"../icons/lock.svg\";\nimport user from \"../icons/user.svg\";\nimport mail from \"../icons/mail-light.svg\";\n\nasync function loginUser(accountData) {\n  return fetch(\"api/getToken\", {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(accountData)\n  })\n  .then(data => data.json())\n}\n\nfunction SignUp({ token, setToken }) {\n  if (token) {\n    return <Redirect to='/' />\n  }\n\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    const token = await loginUser({\n      username,\n      password\n    });\n    setToken(token);\n  };\n\n  // const identity = props.match.params.identity;\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  const history = useHistory();\n  return (\n    <div className=\"App\">\n      <Header />\n      <div className=\"container\">\n        <h1>Create an account</h1>\n        <form onSubmit={handleRegister}>\n          <span className=\"icoContainer\">\n            <span className=\"icoPlaceholder\">\n              <img src={user} />\n            </span>\n            <input name=\"username\" placeholder=\"Username *\" onChange={e => setUsername(e.target.value)}/>\n          </span>\n          <span className=\"icoContainer\">\n            <span className=\"icoPlaceholder\">\n              <img src={mail} />\n            </span>\n            <input name=\"email\" type=\"email\" placeholder=\"Email address *\" />\n          </span>\n          <span className=\"icoContainer\">\n            <span className=\"icoPlaceholder\">\n              <img src={lock} />\n            </span>\n            <input name=\"password\" type=\"password\" placeholder=\"Password *\" onChange={e => setPassword(e.target.value)} />\n          </span>\n          <button type=\"submit\">\n            REGISTER\n            <span style={{ marginLeft: \"20px\" }} className=\"arrow\">\n              <img src={arrowRight} />\n            </span>\n          </button>\n          <div className=\"more\">\n            <span>\n              <a onClick={() => history.push(\"/login\")}>\n                Already have an account\n              </a>\n            </span>\n          </div>\n        </form>\n      </div>\n      <Footer />\n    </div>\n  );\n}\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}